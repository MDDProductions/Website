<!DOCTYPE html>  
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MainStream Digital Dynamics</title>
    <link rel="icon" href="assets/images/favicon.png" type="image/x-icon">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; line-height: 1.6; background-color: #000; color: #f4f4f4; }
        header { text-align: center; padding: 20px 0; }
        .logo-container img { max-width: 100%; height: auto; }
        .category-navigation { display: flex; flex-wrap: wrap; justify-content: space-around; padding: 20px; gap: 10px; }
        .category-navigation button { flex: 1; margin: 5px; padding: 10px; font-size: 14px; cursor: pointer; background-color: #004ad4; color: #fff; border: none; border-radius: 5px; transition: background-color 0.3s ease; }
        .category-navigation button:hover { background-color: #42a5f5; }
        .video-gallery { margin-top: 20px; display: none; text-align: center; }
        .video-gallery.active { display: block; }
        iframe { width: 80%; height: 400px; border: none; }
        footer { text-align: center; padding: 10px; background: rgba(0, 0, 0, 0.85); color: #f4f4f4; }
        @media screen and (max-width: 768px) { .category-navigation { flex-direction: column; } iframe { width: 100%; height: 300px; } }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <a href="index.html">
                <img src="assets/images/logo.png" alt="MainStream Digital Dynamics Logo">
            </a>
        </div>
    </header>
    <main>
        <section class="media-section">
            <div class="category-navigation">
                <button onclick="showCategory('liveStreams')">Live Streams</button>
                <button onclick="showCategory('contentCreated')">Content Created</button>
                <button onclick="showCategory('music')">Music</button>
                <button onclick="showCategory('sports')">Sports</button>
                <button onclick="showCategory('other')">Other</button>
                <button onclick="showCategory('events')">Events</button>
            </div>
            <div id="liveStreams" class="video-gallery">
                <h2>Live Streams</h2>
                <iframe id="iframeLiveStreams" allowfullscreen></iframe>
            </div>
            <div id="contentCreated" class="video-gallery">
                <h2>Content Created</h2>
                <iframe id="iframeContentCreated" allowfullscreen></iframe>
            </div>
            <div id="music" class="video-gallery">
                <h2>Music</h2>
                <iframe id="iframeMusic" allowfullscreen></iframe>
            </div>
            <div id="sports" class="video-gallery">
                <h2>Sports</h2>
                <iframe id="iframeSports" allowfullscreen></iframe>
            </div>
            <div id="other" class="video-gallery">
                <h2>Other</h2>
                <iframe id="iframeOther" allowfullscreen></iframe>
            </div>
            <div id="events" class="video-gallery">
                <h2>Events</h2>
                <iframe id="iframeEvents" allowfullscreen></iframe>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; MainStream Digital Dynamics. All rights reserved.</p>
    </footer>
    <script>
        const liveStreamChannels = [
            "UC4R8DWoMoI7CAwX8_LjQHig",
            "UCX6OQ3DkcsbYNE6H8uQQuVA"
        ];
        const videoLinks = {
            contentCreated: [
                "https://www.youtube.com/watch?v=Ln9eBilYIis", 
                "https://www.youtube.com/watch?v=F2AMWMmj2X0",
                "https://www.youtube.com/shorts/5qv2pg0FB4A"
            ],
            music: [
                "https://www.tiktok.com/@mddproductions.tv/video/7217076822410808619", 
                "https://www.tiktok.com/@mddproductions.tv/video/7217833627562888490"
            ],
            sports: [
                "https://www.youtube.com/watch?v=9C1nr6UMHhY",
                "https://www.youtube.com/watch?v=bhRmJfwV-Zw"
            ],
            other: [
                "https://www.youtube.com/watch?v=tgbNymZ7vqY"
            ],
            events: [
                "https://www.youtube.com/watch?v=jNQXAC9IVRw"
            ]
        };
        async function fetchLiveStream() {
            let highestViewers = 0, bestLiveVideo = "";
            for (let channel of liveStreamChannels) {
                let response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${channel}&eventType=live&type=video&key=AIzaSyDg9tiOWJuy-4iIlhGNrd6t8FELnWCImI4`);
                let data = await response.json();
                if (data.items.length > 0) {
                    let videoId = data.items[0].id.videoId;
                    let statsResponse = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=liveStreamingDetails&id=${videoId}&key=AIzaSyDg9tiOWJuy-4iIlhGNrd6t8FELnWCImI4`);
                    let statsData = await statsResponse.json();
                    let viewers = parseInt(statsData.items[0].liveStreamingDetails.concurrentViewers || 0);
                    if (viewers > highestViewers) {
                        highestViewers = viewers;
                        bestLiveVideo = videoId;
                    }
                }
            }
            document.getElementById("iframeLiveStreams").src = bestLiveVideo ? `https://www.youtube.com/embed/${bestLiveVideo}?autoplay=1` : "about:blank";
        }
        function showCategory(category) {
            document.querySelectorAll('.video-gallery').forEach(gallery => gallery.classList.remove('active'));
            document.getElementById(category).classList.add('active');
            if (category === 'liveStreams') fetchLiveStream();
            else playRandomVideo(category);
        }
        function playRandomVideo(category) {
            let iframeElement = document.getElementById(`iframe${category.charAt(0).toUpperCase() + category.slice(1)}`);
            let videos = videoLinks[category] || [];
            if (videos.length > 0) {
                let randomLink = videos[Math.floor(Math.random() * videos.length)];
                iframeElement.src = randomLink.replace("tiktok.com/", "www.tiktok.com/embed/");
            }
        }
        window.onload = () => showCategory('contentCreated');
    </script>
</body>
</html>
